<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chatbot Test Page</title>
    <!-- Use a relative path to your local CSS file -->
    <link rel="stylesheet" href="./frontend/widget.css">
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; background-color: #f0f0f0; }
    </style>
</head>
<body>

<div id="chatbot-container" style="width: 400px; height: 500px;"></div>

<!-- Use a relative path to your local JS file -->
<script src="./frontend/widget.js"></script>
<script>
    // --- THIS IS THE GUARANTEED CORRECT JWT FOR TESTING ---
    // It is signed with the secret "your-very-strong-jwt-secret-key"
    // and has the issuer "your-organization-issuer-name".
    const FAKE_JWT = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb2NhbC10ZXN0LXVzZXIiLCJpc3MiOiJ5b3VyLW9yZ2FuaXphdGlvbi1pc3N1ZXItbmFtZSIsImlhdCI6MTc2MjIzNzU4NX0._RoHmEjxldyRYhvY-wPIqXfYPbjDs29PLPshqb620fc";

     window.OrgChat.init({
        // The local URL of your backend running in Docker
        apiUrl: "http://localhost:3001/api",

        // For local testing, we just return the fake JWT.
        getJwtCallback: async () => {
            console.log("Providing fake JWT for testing.");
            return FAKE_JWT;
        },

        // The ID of the container DIV above
        containerId: "chatbot-container"
    });
</script>

</body>
</html>